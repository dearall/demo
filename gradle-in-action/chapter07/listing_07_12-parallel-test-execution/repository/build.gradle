repositories {
    mavenCentral()
}

dependencies {
    compile project(':model')
    testCompile 'junit:junit:4.11'
}

test {
    testLogging {
        showStandardStreams = true
        exceptionFormat 'full'
        events 'passed', 'skipped', 'failed'
    }

    forkEvery = 5
    maxParallelForks = determineMaxParallelForks()

    System.out.println("maxParallelForks: " + maxParallelForks)
}

def determineMaxParallelForks() {
    (Runtime.runtime.availableProcessors() / 2) < 1 ? 1 : Runtime.runtime.availableProcessors() / 2
}